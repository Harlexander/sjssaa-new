import{r as o,G as E,j as e,A as _}from"./app-B0pxwg2r.js";import{J as B,a as R,b as L}from"./job-board-nv8b8pzM.js";import{A as T}from"./AdminLayout-C1Kb32ED.js";import{D as $}from"./DashboardTitle-Citu6mHk.js";import{B as c}from"./react-toastify.esm-CN9H2RyC.js";import{D as M,a as O,b as Z,c as P,d as V,e as z,f as H}from"./dialog-B93tIDdQ.js";import{F as I,a as g,b as G}from"./XMarkIcon-BpynJJ73.js";import"./moment-C5S46NFB.js";import"./UserIcon-7Rv-0k9d.js";import"./CalendarDaysIcon-DEGQBRP8.js";import"./Modal-BvxHK_u0.js";import"./transition-CIYSW4No.js";import"./dialog-C7d9gt61.js";import"./handleInput-Dpwmp382.js";import"./BadgeSuccess-CVDLZlvm.js";import"./searchFunction-R5-4BbKn.js";import"./AuthenticatedLayout-rbSj5hDT.js";import"./index.es-BnXZIXEt.js";import"./index-DswxwWLv.js";import"./ChevronDownIcon-C8VROZvo.js";import"./XMarkIcon-DGv1eBhO.js";import"./axios-C-DNSu9d.js";import"./use-text-value-xkT99SXs.js";import"./InputError-DgrEOW7V.js";import"./ScaleLoader-BIEOor29.js";import"./index-BiieDg6q.js";import"./index-w5rwdJT2.js";import"./createLucideIcon-B6Gtmhtf.js";function q({title:l,titleId:d,...n},s){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":d},n),l?o.createElement("title",{id:d},l):null,o.createElement("path",{fillRule:"evenodd",d:"M6 3.75A2.75 2.75 0 0 1 8.75 1h2.5A2.75 2.75 0 0 1 14 3.75v.443c.572.055 1.14.122 1.706.2C17.053 4.582 18 5.75 18 7.07v3.469c0 1.126-.694 2.191-1.83 2.54-1.952.599-4.024.921-6.17.921s-4.219-.322-6.17-.921C2.694 12.73 2 11.665 2 10.539V7.07c0-1.321.947-2.489 2.294-2.676A41.047 41.047 0 0 1 6 4.193V3.75Zm6.5 0v.325a41.622 41.622 0 0 0-5 0V3.75c0-.69.56-1.25 1.25-1.25h2.5c.69 0 1.25.56 1.25 1.25ZM10 10a1 1 0 0 0-1 1v.01a1 1 0 0 0 1 1h.01a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1H10Z",clipRule:"evenodd"}),o.createElement("path",{d:"M3 15.055v-.684c.126.053.255.1.39.142 2.092.642 4.313.987 6.61.987 2.297 0 4.518-.345 6.61-.987.135-.041.264-.089.39-.142v.684c0 1.347-.985 2.53-2.363 2.686a41.454 41.454 0 0 1-9.274 0C3.985 17.585 3 16.402 3 15.055Z"}))}const b=o.forwardRef(q),ve=({jobs:l})=>{const[d,n]=o.useState(!1),[s,p]=o.useState(""),[x,f]=o.useState("newest"),[h,w]=o.useState(!1),[a,m]=o.useState([]),{data:j,setData:y,post:v,processing:N,errors:C,reset:D}=E({title:"",org:"",exp_date:"",link:"",contact:"",description:""}),S=()=>{n(!1),D()},k=t=>{t.preventDefault(),v(route("job.create"),{onSuccess:()=>{S(),c.success("Job posted successfully! ðŸŽ‰")},onError:()=>{c.error("Error posting job")}})},u=o.useMemo(()=>{let t=l.filter(r=>r.title.toLowerCase().includes(s.toLowerCase())||r.org.toLowerCase().includes(s.toLowerCase())||r.description.toLowerCase().includes(s.toLowerCase()));return t.sort((r,i)=>{switch(x){case"newest":return new Date(i.created_at)-new Date(r.created_at);case"oldest":return new Date(r.created_at)-new Date(i.created_at);case"expiring":return new Date(r.exp_date)-new Date(i.exp_date);case"title":return r.title.localeCompare(i.title);default:return 0}}),t},[l,s,x]),F=t=>{window.confirm("Are you sure you want to delete this job posting?")&&_.delete(route("job.delete",t),{onSuccess:()=>{c.success("Job deleted successfully! ðŸ—‘ï¸")},onError:()=>{c.error("Error deleting job")}})},J=()=>{a.length!==0&&window.confirm(`Are you sure you want to delete ${a.length} job(s)?`)&&(c.success(`${a.length} jobs deleted successfully! ðŸ—‘ï¸`),m([]))};return e.jsx(T,{children:e.jsxs("main",{className:"md:p-10 p-5 space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx($,{title:"Job Board Management",subtitle:"Post job opportunities and manage existing listings"}),e.jsxs(M,{open:d,onOpenChange:n,children:[e.jsx(O,{asChild:!0,children:e.jsxs("button",{className:"bg-[#800000] hover:bg-[#700000] text-white px-6 py-3 rounded-lg transition-all duration-200 flex items-center gap-2 font-medium shadow-md hover:shadow-lg",children:[e.jsx(b,{className:"h-5 w-5"}),"Post New Job"]})}),e.jsxs(Z,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(P,{children:[e.jsx(V,{children:"Add Job Opening"}),e.jsx(z,{children:"Fill out the form to post a new job opportunity."})]}),e.jsx(B,{data:j,setData:y,errors:C,isSuccess:!1}),e.jsx(H,{children:e.jsx(R,{handleSubmit:k,isLoading:N})})]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(I,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",value:s,onChange:t=>p(t.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#800000] focus:border-transparent transition-all duration-200",placeholder:"Search jobs by title, organization, or description..."}),s&&e.jsx("button",{onClick:()=>p(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx(g,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("select",{value:x,onChange:t=>f(t.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#800000] focus:border-transparent transition-all duration-200",children:[e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"oldest",children:"Oldest First"}),e.jsx("option",{value:"expiring",children:"Expiring Soon"}),e.jsx("option",{value:"title",children:"Title A-Z"})]}),e.jsxs("button",{onClick:()=>w(!h),className:`px-4 py-3 rounded-lg transition-all duration-200 flex items-center gap-2 ${h?"bg-[#800000] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(G,{className:"h-5 w-5"}),"Filters"]})]})]}),a.length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-amber-50 border border-amber-200 rounded-lg flex items-center justify-between",children:[e.jsxs("span",{className:"text-amber-800 font-medium",children:[a.length," job(s) selected"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:J,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200",children:"Delete Selected"}),e.jsx("button",{onClick:()=>m([]),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors duration-200",children:"Clear Selection"})]})]})]}),u.length===0?e.jsxs("div",{className:"text-center py-16 bg-white/60 rounded-xl border-2 border-dashed border-gray-300",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ’¼"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:s?"No jobs found":"No jobs posted yet"}),e.jsx("p",{className:"text-gray-500 mb-6",children:s?"Try adjusting your search terms":"Post your first job opportunity to get started"}),!s&&e.jsxs("button",{onClick:()=>n(!0),className:"bg-[#800000] hover:bg-[#700000] text-white px-6 py-3 rounded-lg flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Post First Job"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:[u.length," job",u.length!==1?"s":""," found"]}),s&&e.jsx("button",{onClick:()=>p(""),className:"text-sm text-[#800000] hover:underline",children:"Clear search"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map((t,r)=>e.jsxs("div",{className:"group relative",style:{animationDelay:`${r*100}ms`},children:[e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsx("input",{type:"checkbox",checked:a.includes(t.id),onChange:i=>{i.target.checked?m([...a,t.id]):m(a.filter(A=>A!==t.id))},className:"w-4 h-4 text-[#800000] bg-white border-gray-300 rounded focus:ring-[#800000]"})}),e.jsx("div",{className:"absolute top-3 right-3 z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:e.jsx("button",{onClick:()=>F(t.id),className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors duration-200",children:e.jsx(g,{className:"h-4 w-4"})})}),e.jsx(L,{title:t.title,org:t.org,exp_date:t.exp_date,created_at:t.created_at,contact:t.contact,link:t.link,admin:!0,description:t.description})]},t.id||r))})]})]})})};export{ve as default};
