import{R as y,j as d,x as W}from"./app-Cs3-W5eI.js";import{I as q}from"./Navbar-22C_tkuA.js";import{P as z}from"./PageHeader-CgxuUGMJ.js";import{i as I,_ as U,n as H,a as N,t as J,r as L,g as j,s as X,b as C,p as Z,c as ee}from"./axios-DzDfY1FH.js";import{F as te}from"./ArrowRightIcon-BqQnIGJi.js";function O(r,n){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,u){return s.__proto__=u,s},O(r,n)}function D(r,n){r.prototype=Object.create(n.prototype),r.prototype.constructor=r,O(r,n)}var B=function(){function r(){this.listeners=[]}var n=r.prototype;return n.subscribe=function(u){var t=this,e=u||function(){};return this.listeners.push(e),this.onSubscribe(),function(){t.listeners=t.listeners.filter(function(a){return a!==e}),t.onUnsubscribe()}},n.hasListeners=function(){return this.listeners.length>0},n.onSubscribe=function(){},n.onUnsubscribe=function(){},r}(),re=function(r){D(n,r);function n(){var u;return u=r.call(this)||this,u.setup=function(t){var e;if(!I&&((e=window)!=null&&e.addEventListener)){var a=function(){return t()};return window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",a,!1),function(){window.removeEventListener("visibilitychange",a),window.removeEventListener("focus",a)}}},u}var s=n.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}},s.setEventListener=function(t){var e,a=this;this.setup=t,(e=this.cleanup)==null||e.call(this),this.cleanup=t(function(i){typeof i=="boolean"?a.setFocused(i):a.onFocus()})},s.setFocused=function(t){this.focused=t,t&&this.onFocus()},s.onFocus=function(){this.listeners.forEach(function(t){t()})},s.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},n}(B),se=new re,ie=function(n){this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent};function ne(r){return r instanceof ie}var ue=function(r){D(n,r);function n(u,t){var e;return e=r.call(this)||this,e.client=u,e.options=t,e.trackedProps=[],e.selectError=null,e.bindMethods(),e.setOptions(t),e}var s=n.prototype;return s.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},s.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),_(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},s.onUnsubscribe=function(){this.listeners.length||this.destroy()},s.shouldFetchOnReconnect=function(){return Q(this.currentQuery,this.options,this.options.refetchOnReconnect)},s.shouldFetchOnWindowFocus=function(){return Q(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},s.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},s.setOptions=function(t,e){var a=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(t),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=a.queryKey),this.updateQuery();var c=this.hasListeners();c&&k(this.currentQuery,i,this.options,a)&&this.executeFetch(),this.updateResult(e),c&&(this.currentQuery!==i||this.options.enabled!==a.enabled||this.options.staleTime!==a.staleTime)&&this.updateStaleTimeout();var o=this.computeRefetchInterval();c&&(this.currentQuery!==i||this.options.enabled!==a.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)},s.getOptimisticResult=function(t){var e=this.client.defaultQueryObserverOptions(t),a=this.client.getQueryCache().build(this.client,e);return this.createResult(a,e)},s.getCurrentResult=function(){return this.currentResult},s.trackResult=function(t,e){var a=this,i={},c=function(h){a.trackedProps.includes(h)||a.trackedProps.push(h)};return Object.keys(t).forEach(function(o){Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:function(){return c(o),t[o]}})}),(e.useErrorBoundary||e.suspense)&&c("error"),i},s.getNextResult=function(t){var e=this;return new Promise(function(a,i){var c=e.subscribe(function(o){o.isFetching||(c(),o.isError&&(t!=null&&t.throwOnError)?i(o.error):a(o))})})},s.getCurrentQuery=function(){return this.currentQuery},s.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},s.refetch=function(t){return this.fetch(U({},t,{meta:{refetchPage:t==null?void 0:t.refetchPage}}))},s.fetchOptimistic=function(t){var e=this,a=this.client.defaultQueryObserverOptions(t),i=this.client.getQueryCache().build(this.client,a);return i.fetch().then(function(){return e.createResult(i,a)})},s.fetch=function(t){var e=this;return this.executeFetch(t).then(function(){return e.updateResult(),e.currentResult})},s.executeFetch=function(t){this.updateQuery();var e=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(H)),e},s.updateStaleTimeout=function(){var t=this;if(this.clearStaleTimeout(),!(I||this.currentResult.isStale||!N(this.options.staleTime))){var e=J(this.currentResult.dataUpdatedAt,this.options.staleTime),a=e+1;this.staleTimeoutId=setTimeout(function(){t.currentResult.isStale||t.updateResult()},a)}},s.computeRefetchInterval=function(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1},s.updateRefetchInterval=function(t){var e=this;this.clearRefetchInterval(),this.currentRefetchInterval=t,!(I||this.options.enabled===!1||!N(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(e.options.refetchIntervalInBackground||se.isFocused())&&e.executeFetch()},this.currentRefetchInterval))},s.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},s.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},s.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},s.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},s.createResult=function(t,e){var a=this.currentQuery,i=this.options,c=this.currentResult,o=this.currentResultState,h=this.currentResultOptions,v=t!==a,R=v?t.state:this.currentQueryInitialState,m=v?this.currentResult:this.previousQueryResult,l=t.state,E=l.dataUpdatedAt,T=l.error,w=l.errorUpdatedAt,g=l.isFetching,f=l.status,F=!1,A=!1,p;if(e.optimisticResults){var P=this.hasListeners(),$=!P&&_(t,e),K=P&&k(t,a,e,i);($||K)&&(g=!0,E||(f="loading"))}if(e.keepPreviousData&&!l.dataUpdateCount&&(m!=null&&m.isSuccess)&&f!=="error")p=m.data,E=m.dataUpdatedAt,f=m.status,F=!0;else if(e.select&&typeof l.data<"u")if(c&&l.data===(o==null?void 0:o.data)&&e.select===this.selectFn)p=this.selectResult;else try{this.selectFn=e.select,p=e.select(l.data),e.structuralSharing!==!1&&(p=L(c==null?void 0:c.data,p)),this.selectResult=p,this.selectError=null}catch(S){j().error(S),this.selectError=S}else p=l.data;if(typeof e.placeholderData<"u"&&typeof p>"u"&&(f==="loading"||f==="idle")){var b;if(c!=null&&c.isPlaceholderData&&e.placeholderData===(h==null?void 0:h.placeholderData))b=c.data;else if(b=typeof e.placeholderData=="function"?e.placeholderData():e.placeholderData,e.select&&typeof b<"u")try{b=e.select(b),e.structuralSharing!==!1&&(b=L(c==null?void 0:c.data,b)),this.selectError=null}catch(S){j().error(S),this.selectError=S}typeof b<"u"&&(f="success",p=b,A=!0)}this.selectError&&(T=this.selectError,p=this.selectResult,w=Date.now(),f="error");var G={status:f,isLoading:f==="loading",isSuccess:f==="success",isError:f==="error",isIdle:f==="idle",data:p,dataUpdatedAt:E,error:T,errorUpdatedAt:w,failureCount:l.fetchFailureCount,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>R.dataUpdateCount||l.errorUpdateCount>R.errorUpdateCount,isFetching:g,isRefetching:g&&f!=="loading",isLoadingError:f==="error"&&l.dataUpdatedAt===0,isPlaceholderData:A,isPreviousData:F,isRefetchError:f==="error"&&l.dataUpdatedAt!==0,isStale:x(t,e),refetch:this.refetch,remove:this.remove};return G},s.shouldNotifyListeners=function(t,e){if(!e)return!0;var a=this.options,i=a.notifyOnChangeProps,c=a.notifyOnChangePropsExclusions;if(!i&&!c||i==="tracked"&&!this.trackedProps.length)return!0;var o=i==="tracked"?this.trackedProps:i;return Object.keys(t).some(function(h){var v=h,R=t[v]!==e[v],m=o==null?void 0:o.some(function(E){return E===h}),l=c==null?void 0:c.some(function(E){return E===h});return R&&!l&&(!o||m)})},s.updateResult=function(t){var e=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!X(this.currentResult,e)){var a={cache:!0};(t==null?void 0:t.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,e)&&(a.listeners=!0),this.notify(U({},a,t))}},s.updateQuery=function(){var t=this.client.getQueryCache().build(this.client,this.options);if(t!==this.currentQuery){var e=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))}},s.onQueryUpdate=function(t){var e={};t.type==="success"?e.onSuccess=!0:t.type==="error"&&!ne(t.error)&&(e.onError=!0),this.updateResult(e),this.hasListeners()&&this.updateTimers()},s.notify=function(t){var e=this;C.batch(function(){t.onSuccess?(e.options.onSuccess==null||e.options.onSuccess(e.currentResult.data),e.options.onSettled==null||e.options.onSettled(e.currentResult.data,null)):t.onError&&(e.options.onError==null||e.options.onError(e.currentResult.error),e.options.onSettled==null||e.options.onSettled(void 0,e.currentResult.error)),t.listeners&&e.listeners.forEach(function(a){a(e.currentResult)}),t.cache&&e.client.getQueryCache().notify({query:e.currentQuery,type:"observerResultsUpdated"})})},n}(B);function ae(r,n){return n.enabled!==!1&&!r.state.dataUpdatedAt&&!(r.state.status==="error"&&n.retryOnMount===!1)}function _(r,n){return ae(r,n)||r.state.dataUpdatedAt>0&&Q(r,n,n.refetchOnMount)}function Q(r,n,s){if(n.enabled!==!1){var u=typeof s=="function"?s(r):s;return u==="always"||u!==!1&&x(r,n)}return!1}function k(r,n,s,u){return s.enabled!==!1&&(r!==n||u.enabled===!1)&&(!s.suspense||r.state.status!=="error")&&x(r,s)}function x(r,n){return r.isStaleByTime(n.staleTime)}var M=y.createContext(void 0),oe=y.createContext(!1);function ce(r){return r&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=M),window.ReactQueryClientContext):M}var le=function(){var n=y.useContext(ce(y.useContext(oe)));if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n};function he(){var r=!1;return{clearReset:function(){r=!1},reset:function(){r=!0},isReset:function(){return r}}}var fe=y.createContext(he()),de=function(){return y.useContext(fe)};function ve(r,n,s){return typeof n=="function"?n.apply(void 0,s):typeof n=="boolean"?n:!!r}function pe(r,n){var s=y.useRef(!1),u=y.useState(0),t=u[1],e=le(),a=de(),i=e.defaultQueryObserverOptions(r);i.optimisticResults=!0,i.onError&&(i.onError=C.batchCalls(i.onError)),i.onSuccess&&(i.onSuccess=C.batchCalls(i.onSuccess)),i.onSettled&&(i.onSettled=C.batchCalls(i.onSettled)),i.suspense&&(typeof i.staleTime!="number"&&(i.staleTime=1e3),i.cacheTime===0&&(i.cacheTime=1)),(i.suspense||i.useErrorBoundary)&&(a.isReset()||(i.retryOnMount=!1));var c=y.useState(function(){return new n(e,i)}),o=c[0],h=o.getOptimisticResult(i);if(y.useEffect(function(){s.current=!0,a.clearReset();var v=o.subscribe(C.batchCalls(function(){s.current&&t(function(R){return R+1})}));return o.updateResult(),function(){s.current=!1,v()}},[a,o]),y.useEffect(function(){o.setOptions(i,{listeners:!1})},[i,o]),i.suspense&&h.isLoading)throw o.fetchOptimistic(i).then(function(v){var R=v.data;i.onSuccess==null||i.onSuccess(R),i.onSettled==null||i.onSettled(R,null)}).catch(function(v){a.clearReset(),i.onError==null||i.onError(v),i.onSettled==null||i.onSettled(void 0,v)});if(h.isError&&!a.isReset()&&!h.isFetching&&ve(i.suspense,i.useErrorBoundary,[h.error,o.getCurrentQuery()]))throw h.error;return i.notifyOnChangeProps==="tracked"&&(h=o.trackResult(h,i)),h}function ye(r,n,s){var u=Z(r,n,s);return pe(u,ue)}const V=["PRESIDENT","VICE PRESIDENT NIGERIA","VICE PRESIDENT EUROPE AND ASIA","VICE PRESIDENT AMERICA","GENERAL SECRETARY","ASST. SECT EUROPE AND ASIA","FINANCIAL SECRETARY","TREASURER","SOCIAL SECRETARY","PUBLIC RELATIONS OFFICER","ASST. FIN. SECRETARY","ASSISTANT PRO","ASST. SOCIAL SECRETARY","ASST. GENERAL SECRETARY"],Re=()=>{const{data:r=[]}=ye(["elections"],async()=>{const{data:n}=await ee.get("/election");return n});return console.log(r),d.jsxs("div",{className:"bg-yellow-200 min-h-screen",children:[d.jsx(q,{}),d.jsx(z,{title:"Electoral Candidates"}),d.jsx("div",{className:"sm:p-20 p-5 space-y-5",children:V.map(n=>d.jsxs("div",{className:"bg-white p-5 space-y-5 divide-y",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("p",{className:"font-primary text-lg capitalize",children:n.toLowerCase()}),d.jsx(te,{className:"h-4"})]}),d.jsx("div",{className:"pt-5 gap-5 justify-between flex sm:flex-row overflow-x-auto relative",children:r.map((s,u)=>s.position===n&&d.jsx(Y,{contestant:s},u))})]},n))})]})},Y=({contestant:r})=>d.jsxs("div",{className:"border p-2 divide-y shrink-0",children:[d.jsx("img",{src:r==null?void 0:r.image,alt:"img",className:"h-52 w-52 object-contain"}),d.jsxs("p",{className:"font-figtree font-semibold py-2",children:[r==null?void 0:r.firstName," ",r==null?void 0:r.lastName]}),d.jsx(W,{href:`/election/${r==null?void 0:r.id}`,children:d.jsx("button",{className:"w-full bg-[#800000] font-figtree text-white text-xs py-2",children:"View Profile"})})]}),ge=Object.freeze(Object.defineProperty({__proto__:null,ContestantCard:Y,default:Re,positions:V},Symbol.toStringTag,{value:"Module"}));export{B as S,D as _,ye as a,ge as i,V as p,ve as s,le as u};
