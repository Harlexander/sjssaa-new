import{r as u,b as K,R as x,j as a}from"./app-B0pxwg2r.js";import{A as Ue}from"./AdminLayout-C1Kb32ED.js";import{S as Z,D as Qe}from"./DashboardTitle-Citu6mHk.js";import{_ as me,b as $e,d as Ve,n as Ke,c as ge}from"./axios-C-DNSu9d.js";import{_ as He,S as ze,u as We,s as Ge,p as Ee,a as Ye}from"./index-D23wa8U4.js";import{h as qe}from"./moment-C5S46NFB.js";import{A as Xe,y as Je,R as Ze,T as et,c as tt,a as nt,f as st,s as rt,$ as ot,b as it,w as at,e as lt}from"./ChevronDownIcon-C8VROZvo.js";import{o as N,p as Ie,m as ut,u as W,Y as ee,y as te,n as ve,a as ne,d as ct,i as ue,c as dt,e as pt,b as ft,x as ht,V as je,R as mt,A as ye,K as vt}from"./transition-CIYSW4No.js";import{f as Ne,s as Pe,T as bt,I as he,x as ke,J as xt,K as gt,c as yt,w as Ot,d as G,S as M,k as St,A as wt,a as Oe,p as Rt,e as $t,N as Et,v as It,o as S,O as jt,i as Se,t as Nt,n as Pt,Q as kt,m as Mt}from"./dialog-C7d9gt61.js";import{a as g,p as Lt,c as ae,f as re,b as Ct,Z as Tt,V as At,s as Dt,u as Ft,d as _t,L as Bt,S as oe,g as Ut,N as Qt}from"./use-text-value-xkT99SXs.js";import"./index.es-BnXZIXEt.js";import"./index-DswxwWLv.js";import"./index-BiieDg6q.js";import"./Navbar-BwAAob6p.js";import"./XMarkIcon-DGv1eBhO.js";import"./PageHeader-CXQX6JQq.js";import"./ArrowRightIcon-CxnFEakp.js";function Vt(e,s,t){let[n,r]=u.useState(t),o=e!==void 0,l=u.useRef(o),d=u.useRef(!1),h=u.useRef(!1);return o&&!l.current&&!d.current?(d.current=!0,l.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&l.current&&!h.current&&(h.current=!0,l.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?e:n,N(c=>(o||K.flushSync(()=>r(c)),s==null?void 0:s(c)))]}function Kt(e){let[s]=u.useState(e);return s}function Me(e={},s=null,t=[]){for(let[n,r]of Object.entries(e))Ce(t,Le(s,n),r);return t}function Le(e,s){return e?e+"["+s+"]":s}function Ce(e,s,t){if(Array.isArray(t))for(let[n,r]of t.entries())Ce(e,Le(s,n.toString()),r);else t instanceof Date?e.push([s,t.toISOString()]):typeof t=="boolean"?e.push([s,t?"1":"0"]):typeof t=="string"?e.push([s,t]):typeof t=="number"?e.push([s,`${t}`]):t==null?e.push([s,""]):Me(t,s,e)}function Ht(e){var s,t;let n=(s=e==null?void 0:e.form)!=null?s:e.closest("form");if(n){for(let r of n.elements)if(r!==e&&(r.tagName==="INPUT"&&r.type==="submit"||r.tagName==="BUTTON"&&r.type==="submit"||r.nodeName==="INPUT"&&r.type==="image")){r.click();return}(t=n.requestSubmit)==null||t.call(n)}}let zt=u.createContext(null);function Wt({children:e}){let s=u.useContext(zt);if(!s)return x.createElement(x.Fragment,null,e);let{target:t}=s;return t?K.createPortal(x.createElement(x.Fragment,null,e),t):null}function Gt({data:e,form:s,disabled:t,onReset:n,overrides:r}){let[o,l]=u.useState(null),d=Ie();return u.useEffect(()=>{if(n&&o)return d.addEventListener(o,"reset",n)},[o,s,n]),x.createElement(Wt,null,x.createElement(Yt,{setForm:l,formId:s}),Me(e).map(([h,c])=>x.createElement(Ne,{features:Pe.Hidden,...ut({key:h,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:t,name:h,value:c,...r})})))}function Yt({setForm:e,formId:s}){return u.useEffect(()=>{if(s){let t=document.getElementById(s);t&&e(t)}},[e,s]),s?null:x.createElement(Ne,{features:Pe.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let n=t.closest("form");n&&e(n)}})}function qt(e,s){return e!==null&&s!==null&&typeof e=="object"&&typeof s=="object"&&"id"in e&&"id"in s?e.id===s.id:e===s}function Xt(e=qt){return u.useCallback((s,t)=>{if(typeof e=="string"){let n=e;return(s==null?void 0:s[n])===(t==null?void 0:t[n])}return e(s,t)},[e])}function Jt(e,s){let[t,n]=u.useState(s);return!e&&t!==s&&n(s),e?t:s}var Zt=Object.defineProperty,en=(e,s,t)=>s in e?Zt(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,we=(e,s,t)=>(en(e,typeof s!="symbol"?s+"":s,t),t),w=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(w||{}),A=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(A||{}),le=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(le||{}),Te=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOptions=5]="RegisterOptions",e[e.UnregisterOptions=6]="UnregisterOptions",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetOptionsElement=8]="SetOptionsElement",e[e.SortOptions=9]="SortOptions",e[e.MarkButtonAsMoved=10]="MarkButtonAsMoved",e))(Te||{});function Re(e,s=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=gt(s(e.options.slice()),o=>o.dataRef.current.domRef.current),r=t?n.indexOf(t):null;return r===-1&&(r=null),{options:n,activeOptionIndex:r}}let tn={1(e){if(e.dataRef.current.disabled||e.listboxState===1)return e;let s=e.buttonElement?ae.Tracked(Ct(e.buttonElement)):e.buttonPositionState;return{...e,activeOptionIndex:null,pendingFocus:{focus:g.Nothing},listboxState:1,__demoMode:!1,buttonPositionState:s}},0(e,s){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(o=>n(o.dataRef.current.value));return r!==-1&&(t=r),{...e,pendingFocus:s.focus,listboxState:0,activeOptionIndex:t,__demoMode:!1,buttonPositionState:ae.Idle}},2(e,s){var t,n,r,o,l;if(e.dataRef.current.disabled||e.listboxState===1)return e;let d={...e,searchQuery:"",activationTrigger:(t=s.trigger)!=null?t:1,__demoMode:!1};if(s.focus===g.Nothing)return{...d,activeOptionIndex:null};if(s.focus===g.Specific)return{...d,activeOptionIndex:e.options.findIndex(b=>b.id===s.id)};if(s.focus===g.Previous){let b=e.activeOptionIndex;if(b!==null){let y=e.options[b].dataRef.current.domRef,p=re(s,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});if(p!==null){let i=e.options[p].dataRef.current.domRef;if(((n=y.current)==null?void 0:n.previousElementSibling)===i.current||((r=i.current)==null?void 0:r.previousElementSibling)===null)return{...d,activeOptionIndex:p}}}}else if(s.focus===g.Next){let b=e.activeOptionIndex;if(b!==null){let y=e.options[b].dataRef.current.domRef,p=re(s,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});if(p!==null){let i=e.options[p].dataRef.current.domRef;if(((o=y.current)==null?void 0:o.nextElementSibling)===i.current||((l=i.current)==null?void 0:l.nextElementSibling)===null)return{...d,activeOptionIndex:p}}}}let h=Re(e),c=re(s,{resolveItems:()=>h.options,resolveActiveIndex:()=>h.activeOptionIndex,resolveId:b=>b.id,resolveDisabled:b=>b.dataRef.current.disabled});return{...d,...h,activeOptionIndex:c}},3:(e,s)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let t=e.searchQuery!==""?0:1,n=e.searchQuery+s.value.toLowerCase(),r=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+t).concat(e.options.slice(0,e.activeOptionIndex+t)):e.options).find(l=>{var d;return!l.dataRef.current.disabled&&((d=l.dataRef.current.textValue)==null?void 0:d.startsWith(n))}),o=r?e.options.indexOf(r):-1;return o===-1||o===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:o,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,s)=>{let t=e.options.concat(s.options),n=e.activeOptionIndex;if(e.pendingFocus.focus!==g.Nothing&&(n=re(e.pendingFocus,{resolveItems:()=>t,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:r=>r.id,resolveDisabled:r=>r.dataRef.current.disabled})),e.activeOptionIndex===null){let{isSelected:r}=e.dataRef.current;if(r){let o=t.findIndex(l=>r==null?void 0:r(l.dataRef.current.value));o!==-1&&(n=o)}}return{...e,options:t,activeOptionIndex:n,pendingFocus:{focus:g.Nothing},pendingShouldSort:!0}},6:(e,s)=>{let t=e.options,n=[],r=new Set(s.options);for(let[o,l]of t.entries())if(r.has(l.id)&&(n.push(o),r.delete(l.id),r.size===0))break;if(n.length>0){t=t.slice();for(let o of n.reverse())t.splice(o,1)}return{...e,options:t,activationTrigger:1}},7:(e,s)=>e.buttonElement===s.element?e:{...e,buttonElement:s.element},8:(e,s)=>e.optionsElement===s.element?e:{...e,optionsElement:s.element},9:e=>e.pendingShouldSort?{...e,...Re(e),pendingShouldSort:!1}:e,10(e){return e.buttonPositionState.kind!=="Tracked"?e:{...e,buttonPositionState:ae.Moved}}};class be extends bt{constructor(s){super(s),we(this,"actions",{onChange:t=>{let{onChange:n,compare:r,mode:o,value:l}=this.state.dataRef.current;return W(o,{0:()=>n==null?void 0:n(t),1:()=>{let d=l.slice(),h=d.findIndex(c=>r(c,t));return h===-1?d.push(t):d.splice(h,1),n==null?void 0:n(d)}})},registerOption:he(()=>{let t=[],n=new Set;return[(r,o)=>{n.has(o)||(n.add(o),t.push({id:r,dataRef:o}))},()=>(n.clear(),this.send({type:5,options:t.splice(0)}))]}),unregisterOption:he(()=>{let t=[];return[n=>t.push(n),()=>{this.send({type:6,options:t.splice(0)})}]}),goToOption:he(()=>{let t=null;return[(n,r)=>{t={type:2,...n,trigger:r}},()=>t&&this.send(t)]}),closeListbox:()=>{this.send({type:1})},openListbox:t=>{this.send({type:0,focus:t})},selectActiveOption:()=>{if(this.state.activeOptionIndex!==null){let{dataRef:t,id:n}=this.state.options[this.state.activeOptionIndex];this.actions.onChange(t.current.value),this.send({type:2,focus:g.Specific,id:n})}},selectOption:t=>{let n=this.state.options.find(r=>r.id===t);n&&this.actions.onChange(n.dataRef.current.value)},search:t=>{this.send({type:3,value:t})},clearSearch:()=>{this.send({type:4})},setButtonElement:t=>{this.send({type:7,element:t})},setOptionsElement:t=>{this.send({type:8,element:t})}}),we(this,"selectors",{activeDescendantId(t){var n;let r=t.activeOptionIndex,o=t.options;return r===null||(n=o[r])==null?void 0:n.id},isActive(t,n){var r;let o=t.activeOptionIndex,l=t.options;return o!==null?((r=l[o])==null?void 0:r.id)===n:!1},shouldScrollIntoView(t,n){return t.__demoMode||t.listboxState!==0||t.activationTrigger===0?!1:this.isActive(t,n)},didButtonMove(t){return t.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})});{let t=this.state.id,n=ke.get(null);this.disposables.add(n.on(xt.Push,r=>{!n.selectors.isTop(r,t)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>n.actions.push(t)),this.on(1,()=>n.actions.pop(t))}this.disposables.group(t=>{this.on(1,n=>{n.buttonElement&&(t.dispose(),t.add(Lt(n.buttonElement,n.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:s,__demoMode:t=!1}){return new be({id:s,dataRef:{current:{}},listboxState:t?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:g.Nothing},__demoMode:t,buttonPositionState:ae.Idle})}reduce(s,t){return W(t.type,tn,s,t)}}const Ae=u.createContext(null);function xe(e){let s=u.useContext(Ae);if(s===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,De),t}return s}function De({id:e,__demoMode:s=!1}){let t=u.useMemo(()=>be.new({id:e,__demoMode:s}),[]);return yt(()=>t.dispose()),t}let ce=u.createContext(null);ce.displayName="ListboxDataContext";function se(e){let s=u.useContext(ce);if(s===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,se),t}return s}let nn=u.Fragment;function sn(e,s){let t=u.useId(),n=Ot(),{value:r,defaultValue:o,form:l,name:d,onChange:h,by:c,invalid:b=!1,disabled:y=n||!1,horizontal:p=!1,multiple:i=!1,__demoMode:O=!1,...L}=e;const P=p?"horizontal":"vertical";let B=te(s),C=Kt(o),[R=i?[]:void 0,k]=Vt(r,h,C),$=De({id:t,__demoMode:O}),U=u.useRef({static:!1,hold:!1}),Q=u.useRef(new Map),D=Xt(c),V=u.useCallback(j=>W(v.mode,{[A.Multi]:()=>R.some(J=>D(J,j)),[A.Single]:()=>D(R,j)}),[R]),v=G({value:R,disabled:y,invalid:b,mode:i?A.Multi:A.Single,orientation:P,onChange:k,compare:D,isSelected:V,optionsPropsRef:U,listRef:Q});ve(()=>{$.state.dataRef.current=v},[v]);let E=M($,j=>j.listboxState),F=ke.get(null),H=M(F,u.useCallback(j=>F.selectors.isTop(j,t),[F,t])),[_,Y]=M($,j=>[j.buttonElement,j.optionsElement]);St(H,[_,Y],(j,J)=>{$.send({type:Te.CloseListbox}),wt(J,Mt.Loose)||(j.preventDefault(),_==null||_.focus())});let q=G({open:E===w.Open,disabled:y,invalid:b,value:R}),[X,m]=At({inherit:!0}),T={ref:B},de=u.useCallback(()=>{if(C!==void 0)return k==null?void 0:k(C)},[k,C]),pe=ne();return x.createElement(m,{value:X,props:{htmlFor:_==null?void 0:_.id},slot:{open:E===w.Open,disabled:y}},x.createElement(Xe,null,x.createElement(Ae.Provider,{value:$},x.createElement(ce.Provider,{value:v},x.createElement(ct,{value:W(E,{[w.Open]:ue.Open,[w.Closed]:ue.Closed})},d!=null&&R!=null&&x.createElement(Gt,{disabled:y,data:{[d]:R},form:l,onReset:de}),pe({ourProps:T,theirProps:L,slot:q,defaultTag:nn,name:"Listbox"}))))))}let rn="button";function on(e,s){let t=u.useId(),n=_t(),r=se("Listbox.Button"),o=xe("Listbox.Button"),{id:l=n||`headlessui-listbox-button-${t}`,disabled:d=r.disabled||!1,autoFocus:h=!1,...c}=e,b=te(s,nt(),o.actions.setButtonElement),y=st(),[p,i,O]=M(o,m=>[m.listboxState,m.buttonElement,m.optionsElement]),L=p===w.Open;Bt(L,{trigger:i,action:u.useCallback(m=>{if(i!=null&&i.contains(m.target))return oe.Ignore;let T=m.target.closest('[role="option"]:not([data-disabled])');return Pt(T)?oe.Select(T):O!=null&&O.contains(m.target)?oe.Ignore:oe.Close},[i,O]),close:o.actions.closeListbox,select:o.actions.selectActiveOption});let P=N(m=>{switch(m.key){case S.Enter:Ht(m.currentTarget);break;case S.Space:case S.ArrowDown:m.preventDefault(),o.actions.openListbox({focus:r.value?g.Nothing:g.First});break;case S.ArrowUp:m.preventDefault(),o.actions.openListbox({focus:r.value?g.Nothing:g.Last});break}}),B=N(m=>{switch(m.key){case S.Space:m.preventDefault();break}}),C=N(m=>{var T;if(m.button===Ut.Left){if(rt(m.currentTarget))return m.preventDefault();o.state.listboxState===w.Open?(K.flushSync(()=>o.actions.closeListbox()),(T=o.state.buttonElement)==null||T.focus({preventScroll:!0})):(m.preventDefault(),o.actions.openListbox({focus:g.Nothing}))}}),R=u.useRef(null),k=N(m=>{R.current=m.pointerType,m.pointerType==="mouse"&&C(m)}),$=N(m=>{R.current!=="mouse"&&C(m)}),U=N(m=>m.preventDefault()),Q=Qt([l]),D=kt(),{isFocusVisible:V,focusProps:v}=ot({autoFocus:h}),{isHovered:E,hoverProps:F}=it({isDisabled:d}),{pressed:H,pressProps:_}=at({disabled:d}),Y=G({open:p===w.Open,active:H||p===w.Open,disabled:d,invalid:r.invalid,value:r.value,hover:E,focus:V,autofocus:h}),q=M(o,m=>m.listboxState===w.Open),X=je(y(),{ref:b,id:l,type:lt(e,i),"aria-haspopup":"listbox","aria-controls":O==null?void 0:O.id,"aria-expanded":q,"aria-labelledby":Q,"aria-describedby":D,disabled:d||void 0,autoFocus:h,onKeyDown:P,onKeyUp:B,onKeyPress:U,onPointerDown:k,onClick:$},v,F,_);return ne()({ourProps:X,theirProps:c,slot:Y,defaultTag:rn,name:"Listbox.Button"})}let Fe=u.createContext(!1),an="div",ln=ye.RenderStrategy|ye.Static;function un(e,s){let t=u.useId(),{id:n=`headlessui-listbox-options-${t}`,anchor:r,portal:o=!1,modal:l=!0,transition:d=!1,...h}=e,c=Je(r),[b,y]=u.useState(null);c&&(o=!0);let p=se("Listbox.Options"),i=xe("Listbox.Options"),[O,L,P,B]=M(i,f=>[f.listboxState,f.buttonElement,f.optionsElement,f.__demoMode]),C=Oe(L),R=Oe(P),k=ft(),[$,U]=ht(d,b,k!==null?(k&ue.Open)===ue.Open:O===w.Open);Rt($,L,i.actions.closeListbox);let Q=B?!1:l&&O===w.Open;$t(Q,R);let D=B?!1:l&&O===w.Open;Et(D,{allowed:u.useCallback(()=>[L,P],[L,P])});let V=M(i,i.selectors.didButtonMove)?!1:$,v=$&&O===w.Closed&&!e.static,E=Jt(v,p.value),F=u.useCallback(f=>p.compare(E,f),[p.compare,E]),H=M(i,f=>{var I;if(c==null||!((I=c==null?void 0:c.to)!=null&&I.includes("selection")))return null;let z=f.options.findIndex(fe=>F(fe.dataRef.current.value));return z===-1&&(z=0),z}),_=(()=>{if(c==null)return;if(H===null)return{...c,inner:void 0};let f=Array.from(p.listRef.current.values());return{...c,inner:{listRef:{current:f},index:H}}})(),[Y,q]=Ze(_),X=et(),m=te(s,c?Y:null,i.actions.setOptionsElement,y),T=Ie();u.useEffect(()=>{var f;let I=P;I&&O===w.Open&&I!==((f=It(I))==null?void 0:f.activeElement)&&(I==null||I.focus({preventScroll:!0}))},[O,P]);let de=N(f=>{var I,z;switch(T.dispose(),f.key){case S.Space:if(i.state.searchQuery!=="")return f.preventDefault(),f.stopPropagation(),i.actions.search(f.key);case S.Enter:if(f.preventDefault(),f.stopPropagation(),i.state.activeOptionIndex!==null){let{dataRef:fe}=i.state.options[i.state.activeOptionIndex];i.actions.onChange(fe.current.value)}p.mode===A.Single&&(K.flushSync(()=>i.actions.closeListbox()),(I=i.state.buttonElement)==null||I.focus({preventScroll:!0}));break;case W(p.orientation,{vertical:S.ArrowDown,horizontal:S.ArrowRight}):return f.preventDefault(),f.stopPropagation(),i.actions.goToOption({focus:g.Next});case W(p.orientation,{vertical:S.ArrowUp,horizontal:S.ArrowLeft}):return f.preventDefault(),f.stopPropagation(),i.actions.goToOption({focus:g.Previous});case S.Home:case S.PageUp:return f.preventDefault(),f.stopPropagation(),i.actions.goToOption({focus:g.First});case S.End:case S.PageDown:return f.preventDefault(),f.stopPropagation(),i.actions.goToOption({focus:g.Last});case S.Escape:f.preventDefault(),f.stopPropagation(),K.flushSync(()=>i.actions.closeListbox()),(z=i.state.buttonElement)==null||z.focus({preventScroll:!0});return;case S.Tab:f.preventDefault(),f.stopPropagation(),K.flushSync(()=>i.actions.closeListbox()),jt(i.state.buttonElement,f.shiftKey?Se.Previous:Se.Next);break;default:f.key.length===1&&(i.actions.search(f.key),T.setTimeout(()=>i.actions.clearSearch(),350));break}}),pe=M(i,f=>{var I;return(I=f.buttonElement)==null?void 0:I.id}),j=G({open:O===w.Open}),J=je(c?X():{},{id:n,ref:m,"aria-activedescendant":M(i,i.selectors.activeDescendantId),"aria-multiselectable":p.mode===A.Multi?!0:void 0,"aria-labelledby":pe,"aria-orientation":p.orientation,onKeyDown:de,role:"listbox",tabIndex:O===w.Open?0:void 0,style:{...h.style,...q,"--button-width":tt($,L,!0).width},...mt(U)}),_e=ne(),Be=u.useMemo(()=>p.mode===A.Multi?p:{...p,isSelected:F},[p,F]);return x.createElement(Nt,{enabled:o?e.static||$:!1,ownerDocument:C},x.createElement(ce.Provider,{value:Be},_e({ourProps:J,theirProps:h,slot:j,defaultTag:an,features:ln,visible:V,name:"Listbox.Options"})))}let cn="div";function dn(e,s){let t=u.useId(),{id:n=`headlessui-listbox-option-${t}`,disabled:r=!1,value:o,...l}=e,d=u.useContext(Fe)===!0,h=se("Listbox.Option"),c=xe("Listbox.Option"),b=M(c,v=>c.selectors.isActive(v,n)),y=h.isSelected(o),p=u.useRef(null),i=Dt(p),O=dt({disabled:r,value:o,domRef:p,get textValue(){return i()}}),L=te(s,p,v=>{v?h.listRef.current.set(n,v):h.listRef.current.delete(n)}),P=M(c,v=>c.selectors.shouldScrollIntoView(v,n));ve(()=>{if(P)return pt().requestAnimationFrame(()=>{var v,E;(E=(v=p.current)==null?void 0:v.scrollIntoView)==null||E.call(v,{block:"nearest"})})},[P,p]),ve(()=>{if(!d)return c.actions.registerOption(n,O),()=>c.actions.unregisterOption(n)},[O,n,d]);let B=N(v=>{var E;if(r)return v.preventDefault();c.actions.onChange(o),h.mode===A.Single&&(K.flushSync(()=>c.actions.closeListbox()),(E=c.state.buttonElement)==null||E.focus({preventScroll:!0}))}),C=N(()=>{if(r)return c.actions.goToOption({focus:g.Nothing});c.actions.goToOption({focus:g.Specific,id:n})}),R=Ft(),k=N(v=>R.update(v)),$=N(v=>{R.wasMoved(v)&&(r||b&&c.state.activationTrigger===le.Pointer||c.actions.goToOption({focus:g.Specific,id:n},le.Pointer))}),U=N(v=>{R.wasMoved(v)&&(r||b&&c.state.activationTrigger===le.Pointer&&c.actions.goToOption({focus:g.Nothing}))}),Q=G({active:b,focus:b,selected:y,disabled:r,selectedOption:y&&d}),D=d?{}:{id:n,ref:L,role:"option",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-selected":y,disabled:void 0,onClick:B,onFocus:C,onPointerEnter:k,onMouseEnter:k,onPointerMove:$,onMouseMove:$,onPointerLeave:U,onMouseLeave:U},V=ne();return!y&&d?null:V({ourProps:D,theirProps:l,slot:Q,defaultTag:cn,name:"Listbox.Option"})}let pn=u.Fragment;function fn(e,s){let{options:t,placeholder:n,...r}=e,o={ref:te(s)},l=se("ListboxSelectedOption"),d=G({}),h=l.value===void 0||l.value===null||l.mode===A.Multi&&Array.isArray(l.value)&&l.value.length===0,c=ne();return x.createElement(Fe.Provider,{value:!0},c({ourProps:o,theirProps:{...r,children:x.createElement(x.Fragment,null,n&&h?n:t)},slot:d,defaultTag:pn,name:"ListboxSelectedOption"}))}let hn=ee(sn),mn=ee(on),vn=Tt,bn=ee(un),xn=ee(dn),gn=ee(fn),ie=Object.assign(hn,{Button:mn,Label:vn,Options:bn,Option:xn,SelectedOption:gn});function yn({title:e,titleId:s,...t},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},t),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const On=u.forwardRef(yn);function Sn({title:e,titleId:s,...t},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},t),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"}))}const wn=u.forwardRef(Sn);function Rn(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}var $n=function(e){He(s,e);function s(n,r){var o;return o=e.call(this)||this,o.client=n,o.setOptions(r),o.bindMethods(),o.updateResult(),o}var t=s.prototype;return t.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},t.setOptions=function(r){this.options=this.client.defaultMutationOptions(r)},t.onUnsubscribe=function(){if(!this.listeners.length){var r;(r=this.currentMutation)==null||r.removeObserver(this)}},t.onMutationUpdate=function(r){this.updateResult();var o={listeners:!0};r.type==="success"?o.onSuccess=!0:r.type==="error"&&(o.onError=!0),this.notify(o)},t.getCurrentResult=function(){return this.currentResult},t.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},t.mutate=function(r,o){return this.mutateOptions=o,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,me({},this.options,{variables:typeof r<"u"?r:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},t.updateResult=function(){var r=this.currentMutation?this.currentMutation.state:Rn(),o=me({},r,{isLoading:r.status==="loading",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=o},t.notify=function(r){var o=this;$e.batch(function(){o.mutateOptions&&(r.onSuccess?(o.mutateOptions.onSuccess==null||o.mutateOptions.onSuccess(o.currentResult.data,o.currentResult.variables,o.currentResult.context),o.mutateOptions.onSettled==null||o.mutateOptions.onSettled(o.currentResult.data,null,o.currentResult.variables,o.currentResult.context)):r.onError&&(o.mutateOptions.onError==null||o.mutateOptions.onError(o.currentResult.error,o.currentResult.variables,o.currentResult.context),o.mutateOptions.onSettled==null||o.mutateOptions.onSettled(void 0,o.currentResult.error,o.currentResult.variables,o.currentResult.context))),r.listeners&&o.listeners.forEach(function(l){l(o.currentResult)})})},s}(ze);function En(e,s,t){var n=x.useRef(!1),r=x.useState(0),o=r[1],l=Ve(e,s,t),d=We(),h=x.useRef();h.current?h.current.setOptions(l):h.current=new $n(d,l);var c=h.current.getCurrentResult();x.useEffect(function(){n.current=!0;var y=h.current.subscribe($e.batchCalls(function(){n.current&&o(function(p){return p+1})}));return function(){n.current=!1,y()}},[]);var b=x.useCallback(function(y,p){h.current.mutate(y,p).catch(Ke)},[]);if(c.error&&Ge(void 0,h.current.options.useErrorBoundary,[c.error]))throw c.error;return me({},c,{mutate:b,mutateAsync:c.mutate})}const In=({data:e=[],isLoading:s,mutate:t})=>(console.log(e),a.jsx("div",{className:"bg-white p-4 shadow-xl rounded-lg overflow-x-auto",children:a.jsxs("table",{className:"table-responsive w-full divide-y",children:[a.jsx("thead",{className:"font-manrope text-xs uppercase text-left",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2 font-light pr-2",children:"S/N"}),a.jsx("th",{className:"py-2 font-light pr-2",children:"Name"}),a.jsx("th",{className:"py-2 font-light pr-2",children:"Email"}),a.jsx("th",{className:"py-2 font-light pr-2",children:"Set"}),a.jsx("th",{className:"py-2 font-light pr-2",children:"Added On"}),a.jsx("th",{className:"py-2 font-light pr-2",children:"Action"})]})}),a.jsxs("tbody",{className:"divide-y font-figtree text-xs",children:[e.map((n,r)=>a.jsxs("tr",{className:"",children:[a.jsx("td",{className:"py-5 whitespace-nowrap pr-4",children:r+1}),a.jsxs("td",{className:"py-5 whitespace-nowrap pr-4",children:[n.fistName," ",n.lastName]}),a.jsx("td",{className:"py-5 whitespace-nowrap pr-4",children:n.email}),a.jsx("td",{className:"py-5 whitespace-nowrap pr-4 capitalize",children:n==null?void 0:n.set}),a.jsx("td",{className:"py-5 whitespace-nowrap pr-4",children:qe(n.createdAt).format("Do MMM, YYYY")}),a.jsx("td",{className:"py-5 whitespace-nowrap pr-4",children:a.jsx("button",{onClick:()=>{confirm("Are you sure you want to remove this candidate")&&t(n.id)},className:"bg-red-500 py-3 rounded shadow text-white px-5",children:"Remove"})})]},r)),e.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center py-16 text-lg",children:"No member has appplied for this position"})}),s&&Array(4).fill("").map((n,r)=>a.jsxs("tr",{className:"",children:[a.jsx("td",{className:"py-5 whitespace-nowrap pr-4",children:a.jsx(Z,{})}),a.jsx("td",{className:"py-5 whitespace-nowrap pr-4",children:a.jsx(Z,{})}),a.jsx("td",{className:"py-5 whitespace-nowrap pr-4",children:a.jsx(Z,{})}),a.jsx("td",{className:"py-5 whitespace-nowrap pr-4 capitalize",children:a.jsx(Z,{})}),a.jsx("td",{className:"py-5 whitespace-nowrap pr-4",children:a.jsx(Z,{})})]},r))]})]})})),zn=()=>{const[e,s]=u.useState(Ee[0]),{isLoading:t,mutate:n,isSuccess:r}=En(async l=>{const{data:d}=await ge.delete(`/election/${l}`);return d},{onSuccess:()=>{o.refetch()}}),o=Ye(["election"],async()=>{const{data:l}=await ge.get("/election");return l});return a.jsx(Ue,{children:a.jsxs("main",{className:"p-5 sm:p-10 space-y-8",children:[a.jsx(Qe,{title:"ELection",subtitle:"Manage candidates for the executive election."}),a.jsx(jn,{selected:e,setSelected:s}),a.jsx(In,{isLoading:o.isLoading,mutate:n,data:o.data&&o.data.filter(l=>l.position===e)})]})})};function jn({selected:e,setSelected:s}){return a.jsx("div",{className:"w-72",children:a.jsx(ie,{value:e,onChange:s,children:a.jsxs("div",{className:"relative mt-1",children:[a.jsxs(ie.Button,{className:"relative w-full cursor-default rounded-lg bg-white py-2 pl-3 pr-10 text-left shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm",children:[a.jsx("span",{className:"block truncate",children:e}),a.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:a.jsx(wn,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),a.jsx(vt,{as:u.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx(ie.Options,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:Ee.map((t,n)=>a.jsx(ie.Option,{className:({active:r})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${r?"bg-amber-100 text-amber-900":"text-gray-900"}`,value:t,children:({selected:r})=>a.jsxs(a.Fragment,{children:[a.jsx("span",{className:`block truncate ${r?"font-medium":"font-normal"}`,children:t}),r?a.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600",children:a.jsx(On,{className:"h-5 w-5","aria-hidden":"true"})}):null]})},n))})})]})})})}export{zn as default};
