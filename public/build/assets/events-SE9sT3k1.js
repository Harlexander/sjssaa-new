import{r as l,G as D,j as e}from"./app-B0pxwg2r.js";import{A as T}from"./AdminLayout-C1Kb32ED.js";import{D as A}from"./DashboardTitle-Citu6mHk.js";import{a as L,h as M}from"./handleInput-Dpwmp382.js";import{s as w}from"./set-D5WC58x5.js";import{A as O}from"./EventsTable-DFYjXcRo.js";import{B}from"./react-toastify.esm-CN9H2RyC.js";import{D as q,a as I,b as Z,c as _,d as G,e as H,f as P}from"./dialog-B93tIDdQ.js";import{F as $}from"./PhotoIcon-D9oSnM2h.js";import{S as U}from"./ScaleLoader-BIEOor29.js";import"./index.es-BnXZIXEt.js";import"./index-DswxwWLv.js";import"./index-BiieDg6q.js";import"./index-w5rwdJT2.js";import"./createLucideIcon-B6Gtmhtf.js";function z({title:s,titleId:t,...i},n){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},i),s?l.createElement("title",{id:t},s):null,l.createElement("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"}))}const m=l.forwardRef(z);function J({title:s,titleId:t,...i},n){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},i),s?l.createElement("title",{id:t},s):null,l.createElement("path",{fillRule:"evenodd",d:"M3.792 2.938A49.069 49.069 0 0 1 12 2.25c2.797 0 5.54.236 8.209.688a1.857 1.857 0 0 1 1.541 1.836v1.044a3 3 0 0 1-.879 2.121l-6.182 6.182a1.5 1.5 0 0 0-.439 1.061v2.927a3 3 0 0 1-1.658 2.684l-1.757.878A.75.75 0 0 1 9.75 21v-5.818a1.5 1.5 0 0 0-.44-1.06L3.13 7.938a3 3 0 0 1-.879-2.121V4.774c0-.897.64-1.683 1.542-1.836Z",clipRule:"evenodd"}))}const j=l.forwardRef(J);function X({title:s,titleId:t,...i},n){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},i),s?l.createElement("title",{id:t},s):null,l.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const K=l.forwardRef(X);function Q({title:s,titleId:t,...i},n){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},i),s?l.createElement("title",{id:t},s):null,l.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const y=l.forwardRef(Q),pe=({events:s})=>{const[t,i]=l.useState(!1),[n,a]=l.useState(""),[o,p]=l.useState(""),[c,g]=l.useState(""),N=()=>{i(!1),C()},{data:h,setData:f,post:E,processing:v,errors:x,reset:C}=D({title:"",set:"",type:"",reg_fee:0,date:"",description:"",image:null}),u=l.useMemo(()=>{let r=s.data||[];return n.length>0&&(r=r.filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase()))),o.length>0&&(r=r.filter(d=>d.type===o)),c.length>0&&(r=r.filter(d=>d.set===c)),r},[s.data,n,o,c]),S=r=>{a(r.target.value)},R=r=>{p(r.target.value)},F=r=>{g(r.target.value)},b=()=>{a(""),p(""),g("")},k=()=>{console.log(h,x),E(route("event.create"),{onSuccess:()=>{N(),B.success("Event created successfully! ðŸŽ‰")}})};return e.jsx(T,{children:e.jsxs("main",{className:"p-5 sm:p-10 space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(A,{title:"Event Management",subtitle:"Create and manage association events"}),e.jsxs(q,{open:t,onOpenChange:i,children:[e.jsx(I,{asChild:!0,children:e.jsxs("button",{className:"bg-[#800000] hover:bg-[#700000] text-white px-6 py-3 rounded-lg transition-all duration-200 flex items-center gap-2 font-medium shadow-md hover:shadow-lg",children:[e.jsx(m,{className:"h-5 w-5"}),"Create Event"]})}),e.jsxs(Z,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(_,{children:[e.jsx(G,{children:"Create New Event"}),e.jsx(H,{children:"Fill out the form to create a new event."})]}),e.jsx(Y,{handleChange:r=>M(r,f),formValues:h,handleImageChange:r=>L(r,f),isSuccess:v===!1&&Object.keys(x||{}).length===0,errors:x}),e.jsx(P,{children:e.jsx(W,{handleSubmit:k,isLoading:v})})]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(K,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",value:n,onChange:S,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#800000] focus:border-transparent transition-all duration-200 font-figtree",placeholder:"Search events by title or description..."}),n&&e.jsx("button",{onClick:()=>a(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx(y,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),e.jsx("div",{className:"lg:w-40",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(j,{className:"h-5 w-5 text-gray-400"})}),e.jsxs("select",{value:o,onChange:R,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#800000] focus:border-transparent transition-all duration-200 font-figtree appearance-none bg-white",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"free",children:"ðŸ†“ Free"}),e.jsx("option",{value:"paid",children:"ðŸ’° Paid"})]})]})}),e.jsx("div",{className:"lg:w-48",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(j,{className:"h-5 w-5 text-gray-400"})}),e.jsxs("select",{value:c,onChange:F,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#800000] focus:border-transparent transition-all duration-200 font-figtree appearance-none bg-white",children:[e.jsx("option",{value:"",children:"All Sets"}),e.jsx("option",{value:"all set",children:"All Set"}),w.map(r=>e.jsx("option",{value:r,children:r},r))]})]})}),(n||o||c)&&e.jsxs("button",{onClick:b,className:"px-4 py-3 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200 flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4"}),"Clear"]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-4 w-4"}),e.jsxs("span",{children:[u.length," event",u.length!==1?"s":"",(n||o||c)&&" found"]})]}),(n||o||c)&&e.jsx("button",{onClick:b,className:"text-[#800000] hover:underline",children:"Show all events"})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx(m,{className:"h-5 w-5"}),"Event Directory"]})}),e.jsx(O,{data:u})]})]})})},W=({handleSubmit:s,isLoading:t})=>e.jsx("button",{onClick:s,type:"button",disabled:t,className:"inline-flex text-white font-figtree justify-center rounded-lg border border-transparent bg-[#800000] px-6 py-3 text-sm font-medium hover:bg-[#700000] focus:outline-none focus-visible:ring-2 focus-visible:ring-[#800000] focus-visible:ring-offset-2 transition-all duration-200 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:t?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"px-2",color:"white",height:16}),e.jsx("span",{children:"Creating..."})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-4 w-4"}),e.jsx("span",{children:"Create Event"})]})}),Y=({handleChange:s,formValues:t,handleImageChange:i,isSuccess:n,errors:a})=>e.jsxs("div",{className:"space-y-6 py-6 font-figtree",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800 flex items-center gap-2",children:[e.jsx(m,{className:"h-4 w-4"}),"Events created will enable members to register for this event."]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Event Title *"}),e.jsx("input",{type:"text",name:"title",required:!0,value:t.title,onChange:s,error:a.title,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#800000] focus:border-transparent transition-all duration-200 font-figtree",placeholder:"Enter event title..."}),a.title&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Target Set *"}),e.jsxs("select",{name:"set",required:!0,value:t.set,onChange:s,error:a.set,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#800000] focus:border-transparent transition-all duration-200 font-figtree appearance-none bg-white",children:[e.jsx("option",{value:"",children:"Select Set"}),e.jsx("option",{value:"all set",children:"All Set"}),w.map(o=>e.jsx("option",{value:o,children:o},o))]}),a.set&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.set})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Event Type *"}),e.jsxs("select",{name:"type",required:!0,value:t.type,onChange:s,error:a.type,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#800000] focus:border-transparent transition-all duration-200 font-figtree appearance-none bg-white",children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"free",children:"ðŸ†“ Free Event"}),e.jsx("option",{value:"paid",children:"ðŸ’° Paid Event"})]}),a.type&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.type})]}),t.type==="paid"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Registration Fee *"}),e.jsx("input",{type:"number",name:"reg_fee",required:!0,value:t.reg_fee,onChange:s,error:a.reg_fee,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#800000] focus:border-transparent transition-all duration-200 font-figtree",placeholder:"Enter amount...",min:"0",step:"0.01"}),a.reg_fee&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.reg_fee})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Event Date *"}),e.jsx("input",{type:"date",name:"date",required:!0,value:t.date,onChange:s,error:a.date,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#800000] focus:border-transparent transition-all duration-200 font-figtree"}),a.date&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Event Description *"}),e.jsx("textarea",{name:"description",required:!0,value:t.description,onChange:s,error:a.description,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#800000] focus:border-transparent transition-all duration-200 font-figtree resize-none",placeholder:"Enter detailed event description...",rows:5}),a.description&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Event Image"}),e.jsxs("div",{className:"space-y-3 text-center border-2 border-dashed border-gray-300 rounded-xl flex flex-col justify-center items-center p-8 hover:border-[#800000] transition-colors duration-200",children:[e.jsx($,{className:"h-12 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 font-medium",children:"Upload Event Image"}),e.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG up to 10MB"})]}),t.image&&e.jsx("div",{className:"w-full max-w-xs",children:e.jsx("img",{src:URL.createObjectURL(t.image),alt:"Event preview",className:"w-full h-32 object-cover rounded-lg shadow-md"})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",name:"image",onChange:i,accept:"image/*",className:"h-full w-full opacity-0 absolute cursor-pointer"}),e.jsx("button",{type:"button",className:"bg-[#800000] hover:bg-[#700000] text-white py-2 px-6 rounded-lg font-medium transition-all duration-200",children:"Select Image"})]}),a.image&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.image})]})]})]});export{pe as default};
